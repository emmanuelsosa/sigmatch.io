name: Continuos Integration

on:
  pull_request:
    types: [ opened, synchronize, reopened ]
    branches:
      - development
      - staging
      - production

jobs:
  ci-flutter-feat:
    if: ${{ github.ref != 'refs/heads/development' && github.ref != 'refs/heads/staging' && github.ref != 'refs/heads/production' }}
    name: CI phase for feature branch
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-java@v1
        with:
          java-version: '12.x'
      - uses: subosito/flutter-action@v1
        with:
          flutter-version: '2.0.5'
      - run: dart --version
      - run: flutter --version
      - run: flutter pub get
      # Steps to test the app
      #- run: flutter test test/widget_test.dart